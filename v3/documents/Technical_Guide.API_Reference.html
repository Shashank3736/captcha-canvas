<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>API Reference | captcha-canvas API Documentation - v3.3.4</title><meta name="description" content="Documentation for captcha-canvas API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="https://captcha-canvas.js.org/v3/" class="title">captcha-canvas API Documentation - v3.3.4</a><div id="tsd-toolbar-links"><a href="https://github.com/Shashank3736/captcha-canvas">GitHub</a><a href="https://www.npmjs.com/package/captcha-canvas">NPM</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="Technical_Guide.html">Technical Guide</a></li><li><a href="" aria-current="page">API Reference</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="enhanced-api-reference" class="tsd-anchor-link">Enhanced API Reference<a href="#enhanced-api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This document provides a comprehensive overview of the captcha-canvas API with detailed explanations and practical examples.</p>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#simple-function-api">Simple Function API</a></li>
<li><a href="#advanced-class-api">Advanced Class API</a></li>
<li><a href="#configuration-interfaces">Configuration Interfaces</a></li>
<li><a href="#utility-functions">Utility Functions</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ul>
<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3">npm</span><span class="hl-1"> </span><span class="hl-4">install</span><span class="hl-1"> </span><span class="hl-4">captcha-canvas</span>
</code><button type="button">Copy</button></pre>

<h3 id="basic-usage" class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-7">createCaptcha</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&#39;captcha-canvas&#39;</span><span class="hl-1">;</span><br/><span class="hl-8">import</span><span class="hl-1"> </span><span class="hl-7">fs</span><span class="hl-1"> </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Generate a simple CAPTCHA</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptcha</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-7">image</span><span class="hl-1">;</span><br/><br/><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-3">writeFileSync</span><span class="hl-1">(</span><span class="hl-4">&#39;captcha.png&#39;</span><span class="hl-1">, </span><span class="hl-7">buffer</span><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">&#39;Solution:&#39;</span><span class="hl-1">, </span><span class="hl-7">text</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="simple-function-api" class="tsd-anchor-link">Simple Function API<a href="#simple-function-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="createcaptchawidth-height-options" class="tsd-anchor-link"><code>createCaptcha(width, height, options?)</code><a href="#createcaptchawidth-height-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a CAPTCHA asynchronously with automatic security features.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>width: number</code> - Image width in pixels</li>
<li><code>height: number</code> - Image height in pixels</li>
<li><code>options?: CreateCaptchaOptions</code> - Optional configuration</li>
</ul>
<p><strong>Returns:</strong> <code>CaptchaValue</code> - Object with <code>image: Promise&lt;Buffer&gt;</code> and <code>text: string</code></p>
<p><strong>Examples:</strong></p>
<pre><code class="typescript"><span class="hl-5">// Basic generation</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptcha</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Custom text and styling</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptcha</span><span class="hl-1">(</span><span class="hl-6">400</span><span class="hl-1">, </span><span class="hl-6">150</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">captcha:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;HELLO&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">60</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">colors:</span><span class="hl-1"> [</span><span class="hl-4">&#39;#e74c3c&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#3498db&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">trace:</span><span class="hl-1"> { </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#95a5a6&#39;</span><span class="hl-1">, </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">4</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-7">decoy:</span><span class="hl-1"> { </span><span class="hl-7">total:</span><span class="hl-1"> </span><span class="hl-6">30</span><span class="hl-1">, </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.3</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// With background image</span><br/><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-7">resolveImage</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&#39;captcha-canvas&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">background</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-4">&#39;./background.jpg&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptcha</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">, { </span><span class="hl-7">background</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h3 id="createcaptchasyncwidth-height-options" class="tsd-anchor-link"><code>createCaptchaSync(width, height, options?)</code><a href="#createcaptchasyncwidth-height-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a CAPTCHA synchronously without async/await.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>width: number</code> - Image width in pixels</li>
<li><code>height: number</code> - Image height in pixels</li>
<li><code>options?: CreateCaptchaOptions</code> - Optional configuration</li>
</ul>
<p><strong>Returns:</strong> <code>CaptchaValueSync</code> - Object with <code>image: Buffer</code> and <code>text: string</code></p>
<p><strong>Examples:</strong></p>
<pre><code class="typescript"><span class="hl-5">// Synchronous generation</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptchaSync</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">);</span><br/><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-3">writeFileSync</span><span class="hl-1">(</span><span class="hl-4">&#39;captcha.png&#39;</span><span class="hl-1">, </span><span class="hl-7">image</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// With pre-loaded background</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">background</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-4">&#39;./background.jpg&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptchaSync</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">, { </span><span class="hl-7">background</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h2 id="advanced-class-api" class="tsd-anchor-link">Advanced Class API<a href="#advanced-class-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="captchagenerator" class="tsd-anchor-link"><code>CaptchaGenerator</code><a href="#captchagenerator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Advanced CAPTCHA generator with fluent API for maximum customization.</p>
<h4 id="constructor" class="tsd-anchor-link">Constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">(</span><span class="hl-7">options</span><span class="hl-1">?: { height?</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-7">number</span><span class="hl-1">, width?</span><span class="hl-7">:</span><span class="hl-1"> </span><span class="hl-7">number</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p><strong>Examples:</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">(); </span><span class="hl-5">// 300x100 default</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">({ </span><span class="hl-7">width:</span><span class="hl-1"> </span><span class="hl-6">400</span><span class="hl-1">, </span><span class="hl-7">height:</span><span class="hl-1"> </span><span class="hl-6">150</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h4 id="methods" class="tsd-anchor-link">Methods<a href="#methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="setdimensionheight-width" class="tsd-anchor-link"><code>setDimension(height, width)</code><a href="#setdimensionheight-width" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Sets canvas dimensions.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setDimension</span><span class="hl-1">(</span><span class="hl-6">200</span><span class="hl-1">, </span><span class="hl-6">500</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h5 id="setbackgroundimage" class="tsd-anchor-link"><code>setBackground(image)</code><a href="#setbackgroundimage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Sets background image from path, URL, or Buffer.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setBackground</span><span class="hl-1">(</span><span class="hl-4">&#39;./noise-pattern.jpg&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-3">setBackground</span><span class="hl-1">(</span><span class="hl-4">&#39;https://example.com/bg.png&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-3">setBackground</span><span class="hl-1">(</span><span class="hl-7">imageBuffer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h5 id="setcaptchaoption" class="tsd-anchor-link"><code>setCaptcha(option)</code><a href="#setcaptchaoption" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Configures text appearance and content.</p>
<pre><code class="typescript"><span class="hl-5">// Basic text</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;SECURE&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">60</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#2c3e50&#39;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-5">// Multi-color text</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;RAINBOW&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">colors:</span><span class="hl-1"> [</span><span class="hl-4">&#39;#e74c3c&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#f39c12&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#f1c40f&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#27ae60&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#3498db&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-5">// Multi-styled segments</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;SEC&#39;</span><span class="hl-1">, </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">50</span><span class="hl-1">, </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#e74c3c&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;URE&#39;</span><span class="hl-1">, </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">45</span><span class="hl-1">, </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#27ae60&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">  ]);</span><br/><br/><span class="hl-5">// Random generation</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">characters:</span><span class="hl-1"> </span><span class="hl-6">8</span><span class="hl-1">, </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">40</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h5 id="settraceoption" class="tsd-anchor-link"><code>setTrace(option)</code><a href="#settraceoption" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Configures connecting trace lines.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setTrace</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#95a5a6&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.8</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<h5 id="setdecoyoption" class="tsd-anchor-link"><code>setDecoy(option)</code><a href="#setdecoyoption" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Configures decoy characters for security.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setDecoy</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">total:</span><span class="hl-1"> </span><span class="hl-6">40</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#7f8c8d&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">18</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.3</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<h5 id="generate" class="tsd-anchor-link"><code>generate()</code><a href="#generate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Generates the final image asynchronously.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">generate</span><span class="hl-1">();</span><br/><span class="hl-7">fs</span><span class="hl-1">.</span><span class="hl-3">writeFileSync</span><span class="hl-1">(</span><span class="hl-4">&#39;captcha.png&#39;</span><span class="hl-1">, </span><span class="hl-7">buffer</span><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">&#39;Text:&#39;</span><span class="hl-1">, </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-7">text</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h5 id="generatesyncoptions" class="tsd-anchor-link"><code>generateSync(options?)</code><a href="#generatesyncoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Generates the image synchronously.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">generateSync</span><span class="hl-1">();</span><br/><span class="hl-5">// With background</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">generateSync</span><span class="hl-1">({ </span><span class="hl-7">background:</span><span class="hl-1"> </span><span class="hl-7">preloadedImage</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<h4 id="properties" class="tsd-anchor-link">Properties<a href="#properties" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="text" class="tsd-anchor-link"><code>text</code><a href="#text" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets the current CAPTCHA solution text.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;HELLO&#39;</span><span class="hl-1"> });</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-7">text</span><span class="hl-1">); </span><span class="hl-5">// &quot;HELLO&quot;</span>
</code><button type="button">Copy</button></pre>

<h3 id="captcha" class="tsd-anchor-link"><code>Captcha</code><a href="#captcha" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Low-level canvas operations for fine-grained control.</p>
<h4 id="constructor-1" class="tsd-anchor-link">Constructor<a href="#constructor-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Captcha</span><span class="hl-1">(</span><span class="hl-7">width</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1">, </span><span class="hl-7">height</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1">, </span><span class="hl-7">characters</span><span class="hl-1">?: </span><span class="hl-7">number</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h4 id="methods-1" class="tsd-anchor-link">Methods<a href="#methods-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="drawimageimage" class="tsd-anchor-link"><code>drawImage(image)</code><a href="#drawimageimage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Draws background image.</p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Captcha</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">);</span><br/><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">drawImage</span><span class="hl-1">(</span><span class="hl-7">backgroundImage</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h5 id="adddecoyoptions" class="tsd-anchor-link"><code>addDecoy(options?)</code><a href="#adddecoyoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Adds decoy characters.</p>
<pre><code class="typescript"><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">addDecoy</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">total:</span><span class="hl-1"> </span><span class="hl-6">25</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.3</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#95a5a6&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h5 id="drawcaptchaoptions" class="tsd-anchor-link"><code>drawCaptcha(options?)</code><a href="#drawcaptchaoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Draws main CAPTCHA text.</p>
<pre><code class="typescript"><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">drawCaptcha</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;HELLO&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">40</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">rotate:</span><span class="hl-1"> </span><span class="hl-6">15</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">skew:</span><span class="hl-1"> </span><span class="hl-0">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h5 id="drawtraceoptions" class="tsd-anchor-link"><code>drawTrace(options?)</code><a href="#drawtraceoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Draws connecting trace lines.</p>
<pre><code class="typescript"><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-3">drawTrace</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#95a5a6&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">3</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.8</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="properties-1" class="tsd-anchor-link">Properties<a href="#properties-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="text-1" class="tsd-anchor-link"><code>text</code><a href="#text-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets the CAPTCHA solution text.</p>
<h5 id="png" class="tsd-anchor-link"><code>png</code><a href="#png" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets the image as PNG buffer (Promise in async mode, Buffer in sync mode).</p>
<pre><code class="typescript"><span class="hl-5">// Async mode (default)</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-7">png</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Sync mode</span><br/><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-7">async</span><span class="hl-1"> = </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-7">captcha</span><span class="hl-1">.</span><span class="hl-7">png</span><span class="hl-1"> </span><span class="hl-8">as</span><span class="hl-1"> </span><span class="hl-9">Buffer</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h2 id="configuration-interfaces" class="tsd-anchor-link">Configuration Interfaces<a href="#configuration-interfaces" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="setcaptchaoption-1" class="tsd-anchor-link"><code>SetCaptchaOption</code><a href="#setcaptchaoption-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configuration for CAPTCHA text in CaptchaGenerator.</p>
<pre><code class="typescript"><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-9">SetCaptchaOption</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">characters</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;    </span><span class="hl-5">// Random character count</span><br/><span class="hl-1">  </span><span class="hl-7">text</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;         </span><span class="hl-5">// Specific text</span><br/><span class="hl-1">  </span><span class="hl-7">color</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;        </span><span class="hl-5">// Text color</span><br/><span class="hl-1">  </span><span class="hl-7">font</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;         </span><span class="hl-5">// Font family</span><br/><span class="hl-1">  </span><span class="hl-7">skew</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1">;        </span><span class="hl-5">// Apply skewing</span><br/><span class="hl-1">  </span><span class="hl-7">colors</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">[];     </span><span class="hl-5">// Multi-color array</span><br/><span class="hl-1">  </span><span class="hl-7">rotate</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;       </span><span class="hl-5">// Rotation range (degrees)</span><br/><span class="hl-1">  </span><span class="hl-7">size</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;         </span><span class="hl-5">// Font size (pixels)</span><br/><span class="hl-1">  </span><span class="hl-7">opacity</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;      </span><span class="hl-5">// Text opacity (0-1)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="settraceoption-1" class="tsd-anchor-link"><code>SetTraceOption</code><a href="#settraceoption-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configuration for trace lines.</p>
<pre><code class="typescript"><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-9">SetTraceOption</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">color</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;        </span><span class="hl-5">// Line color</span><br/><span class="hl-1">  </span><span class="hl-7">size</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;         </span><span class="hl-5">// Line width (pixels)</span><br/><span class="hl-1">  </span><span class="hl-7">opacity</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;      </span><span class="hl-5">// Line opacity (0-1)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="setdecoyoption-1" class="tsd-anchor-link"><code>SetDecoyOption</code><a href="#setdecoyoption-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configuration for decoy characters.</p>
<pre><code class="typescript"><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-9">SetDecoyOption</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">color</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;        </span><span class="hl-5">// Decoy color</span><br/><span class="hl-1">  </span><span class="hl-7">font</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;         </span><span class="hl-5">// Font family</span><br/><span class="hl-1">  </span><span class="hl-7">size</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;         </span><span class="hl-5">// Font size (pixels)</span><br/><span class="hl-1">  </span><span class="hl-7">opacity</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;      </span><span class="hl-5">// Decoy opacity (0-1)</span><br/><span class="hl-1">  </span><span class="hl-7">total</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;        </span><span class="hl-5">// Number of decoys</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="createcaptchaoptions" class="tsd-anchor-link"><code>CreateCaptchaOptions</code><a href="#createcaptchaoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configuration for simple function API.</p>
<pre><code class="typescript"><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-9">CreateCaptchaOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">captcha</span><span class="hl-1">?: </span><span class="hl-9">SetCaptchaOption</span><span class="hl-1"> | </span><span class="hl-9">SetCaptchaOption</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-7">trace</span><span class="hl-1">?: </span><span class="hl-9">SetTraceOption</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">decoy</span><span class="hl-1">?: </span><span class="hl-9">SetDecoyOption</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">background</span><span class="hl-1">?: </span><span class="hl-9">Image</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="utility-functions" class="tsd-anchor-link">Utility Functions<a href="#utility-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="resolveimagesource" class="tsd-anchor-link"><code>resolveImage(source)</code><a href="#resolveimagesource" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Loads images from various sources (re-exported from skia-canvas).</p>
<pre><code class="typescript"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-7">resolveImage</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&#39;captcha-canvas&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">image</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-4">&#39;./background.jpg&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">image</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-4">&#39;https://example.com/bg.png&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">image</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-7">buffer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="best-practices" class="tsd-anchor-link">Best Practices<a href="#best-practices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="security-recommendations" class="tsd-anchor-link">Security Recommendations<a href="#security-recommendations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p><strong>Use Multiple Security Features</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">characters:</span><span class="hl-1"> </span><span class="hl-6">6</span><span class="hl-1">, </span><span class="hl-7">rotate:</span><span class="hl-1"> </span><span class="hl-6">15</span><span class="hl-1">, </span><span class="hl-7">skew:</span><span class="hl-1"> </span><span class="hl-0">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-3">setTrace</span><span class="hl-1">({ </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">3</span><span class="hl-1">, </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.8</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-3">setDecoy</span><span class="hl-1">({ </span><span class="hl-7">total:</span><span class="hl-1"> </span><span class="hl-6">30</span><span class="hl-1">, </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.3</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Vary CAPTCHA Appearance</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">colors</span><span class="hl-1"> = [</span><span class="hl-4">&#39;#e74c3c&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#3498db&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#27ae60&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;#f39c12&#39;</span><span class="hl-1">];</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><br/><span class="hl-1">    </span><span class="hl-7">characters:</span><span class="hl-1"> </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">floor</span><span class="hl-1">(</span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">random</span><span class="hl-1">() * </span><span class="hl-6">3</span><span class="hl-1">) + </span><span class="hl-6">5</span><span class="hl-1">, </span><span class="hl-5">// 5-7 chars</span><br/><span class="hl-1">    </span><span class="hl-7">colors:</span><span class="hl-1"> </span><span class="hl-7">colors</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">floor</span><span class="hl-1">(</span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">random</span><span class="hl-1">() * </span><span class="hl-6">20</span><span class="hl-1">) + </span><span class="hl-6">40</span><span class="hl-1"> </span><span class="hl-5">// 40-60px</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Background Images for Enhanced Security</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">backgrounds</span><span class="hl-1"> = [</span><span class="hl-4">&#39;bg1.jpg&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;bg2.jpg&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;bg3.jpg&#39;</span><span class="hl-1">];</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">randomBg</span><span class="hl-1"> = </span><span class="hl-7">backgrounds</span><span class="hl-1">[</span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">floor</span><span class="hl-1">(</span><span class="hl-7">Math</span><span class="hl-1">.</span><span class="hl-3">random</span><span class="hl-1">() * </span><span class="hl-7">backgrounds</span><span class="hl-1">.</span><span class="hl-7">length</span><span class="hl-1">)];</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setBackground</span><span class="hl-1">(</span><span class="hl-7">randomBg</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.9</span><span class="hl-1"> }); </span><span class="hl-5">// Ensure visibility</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h3 id="performance-optimization" class="tsd-anchor-link">Performance Optimization<a href="#performance-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p><strong>Use Sync Mode When Possible</strong></p>
<pre><code class="typescript"><span class="hl-5">// For batch generation or non-async contexts</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptchaSync</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Pre-load Background Images</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">backgroundCache</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Map</span><span class="hl-1">();</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">bg</span><span class="hl-1"> = </span><span class="hl-7">backgroundCache</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-4">&#39;noise&#39;</span><span class="hl-1">) || </span><br/><span class="hl-1">           </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">resolveImage</span><span class="hl-1">(</span><span class="hl-4">&#39;./noise.jpg&#39;</span><span class="hl-1">);</span><br/><span class="hl-7">backgroundCache</span><span class="hl-1">.</span><span class="hl-3">set</span><span class="hl-1">(</span><span class="hl-4">&#39;noise&#39;</span><span class="hl-1">, </span><span class="hl-7">bg</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Reuse Generator Instances</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">generator</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">({ </span><span class="hl-7">width:</span><span class="hl-1"> </span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-7">height:</span><span class="hl-1"> </span><span class="hl-6">100</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">// Generate multiple CAPTCHAs</span><br/><span class="hl-8">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-7">i</span><span class="hl-1"> = </span><span class="hl-6">0</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1"> &lt; </span><span class="hl-6">10</span><span class="hl-1">; </span><span class="hl-7">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">  </span><span class="hl-7">generator</span><span class="hl-1">.</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">characters:</span><span class="hl-1"> </span><span class="hl-6">6</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">buffer</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-7">generator</span><span class="hl-1">.</span><span class="hl-3">generate</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">// Process buffer...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
<h3 id="accessibility-considerations" class="tsd-anchor-link">Accessibility Considerations<a href="#accessibility-considerations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>
<p><strong>Provide Audio Alternative</strong></p>
<pre><code class="typescript"><span class="hl-5">// Generate simple text for audio conversion</span><br/><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-2">text</span><span class="hl-1"> } = </span><span class="hl-3">createCaptcha</span><span class="hl-1">(</span><span class="hl-6">300</span><span class="hl-1">, </span><span class="hl-6">100</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">captcha:</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-7">characters:</span><span class="hl-1"> </span><span class="hl-6">5</span><span class="hl-1">,  </span><span class="hl-5">// Shorter for audio</span><br/><span class="hl-1">    </span><span class="hl-7">rotate:</span><span class="hl-1"> </span><span class="hl-6">0</span><span class="hl-1">,      </span><span class="hl-5">// No rotation for clarity</span><br/><span class="hl-1">    </span><span class="hl-7">skew:</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">     </span><span class="hl-5">// No skewing</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>High Contrast Mode</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-4">&#39;#000000&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">50</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">rotate:</span><span class="hl-1"> </span><span class="hl-6">5</span><span class="hl-1">  </span><span class="hl-5">// Minimal rotation</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-3">setTrace</span><span class="hl-1">({ </span><span class="hl-7">opacity:</span><span class="hl-1"> </span><span class="hl-6">0.3</span><span class="hl-1"> }); </span><span class="hl-5">// Subtle trace</span>
</code><button type="button">Copy</button></pre>

</li>
<li>
<p><strong>Larger Sizes for Better Readability</strong></p>
<pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">captcha</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CaptchaGenerator</span><span class="hl-1">({ </span><span class="hl-7">width:</span><span class="hl-1"> </span><span class="hl-6">400</span><span class="hl-1">, </span><span class="hl-7">height:</span><span class="hl-1"> </span><span class="hl-6">150</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-3">setCaptcha</span><span class="hl-1">({ </span><span class="hl-7">size:</span><span class="hl-1"> </span><span class="hl-6">60</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

</li>
</ol>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#enhanced-api-reference"><span>Enhanced <wbr/>API <wbr/>Reference</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li></ul></li><li><a href="#simple-function-api"><span>Simple <wbr/>Function <wbr/>API</span></a></li><li><ul><li><a href="#createcaptchawidth-height-options"><span>create<wbr/>Captcha(width, height, options?)</span></a></li><li><a href="#createcaptchasyncwidth-height-options"><span>create<wbr/>Captcha<wbr/>Sync(width, height, options?)</span></a></li></ul></li><li><a href="#advanced-class-api"><span>Advanced <wbr/>Class <wbr/>API</span></a></li><li><ul><li><a href="#captchagenerator"><span>Captcha<wbr/>Generator</span></a></li><li><ul><li><a href="#constructor"><span>Constructor</span></a></li><li><a href="#methods"><span>Methods</span></a></li><li><ul><li><a href="#setdimensionheight-width"><span>set<wbr/>Dimension(height, width)</span></a></li><li><a href="#setbackgroundimage"><span>set<wbr/>Background(image)</span></a></li><li><a href="#setcaptchaoption"><span>set<wbr/>Captcha(option)</span></a></li><li><a href="#settraceoption"><span>set<wbr/>Trace(option)</span></a></li><li><a href="#setdecoyoption"><span>set<wbr/>Decoy(option)</span></a></li><li><a href="#generate"><span>generate()</span></a></li><li><a href="#generatesyncoptions"><span>generate<wbr/>Sync(options?)</span></a></li></ul></li><li><a href="#properties"><span>Properties</span></a></li><li><ul><li><a href="#text"><span>text</span></a></li></ul></li></ul></li><li><a href="#captcha"><span>Captcha</span></a></li><li><ul><li><a href="#constructor-1"><span>Constructor</span></a></li><li><a href="#methods-1"><span>Methods</span></a></li><li><ul><li><a href="#drawimageimage"><span>draw<wbr/>Image(image)</span></a></li><li><a href="#adddecoyoptions"><span>add<wbr/>Decoy(options?)</span></a></li><li><a href="#drawcaptchaoptions"><span>draw<wbr/>Captcha(options?)</span></a></li><li><a href="#drawtraceoptions"><span>draw<wbr/>Trace(options?)</span></a></li></ul></li><li><a href="#properties-1"><span>Properties</span></a></li><li><ul><li><a href="#text-1"><span>text</span></a></li><li><a href="#png"><span>png</span></a></li></ul></li></ul></li></ul></li><li><a href="#configuration-interfaces"><span>Configuration <wbr/>Interfaces</span></a></li><li><ul><li><a href="#setcaptchaoption-1"><span>Set<wbr/>Captcha<wbr/>Option</span></a></li><li><a href="#settraceoption-1"><span>Set<wbr/>Trace<wbr/>Option</span></a></li><li><a href="#setdecoyoption-1"><span>Set<wbr/>Decoy<wbr/>Option</span></a></li><li><a href="#createcaptchaoptions"><span>Create<wbr/>Captcha<wbr/>Options</span></a></li></ul></li><li><a href="#utility-functions"><span>Utility <wbr/>Functions</span></a></li><li><ul><li><a href="#resolveimagesource"><span>resolve<wbr/>Image(source)</span></a></li></ul></li><li><a href="#best-practices"><span>Best <wbr/>Practices</span></a></li><li><ul><li><a href="#security-recommendations"><span>Security <wbr/>Recommendations</span></a></li><li><a href="#performance-optimization"><span>Performance <wbr/>Optimization</span></a></li><li><a href="#accessibility-considerations"><span>Accessibility <wbr/>Considerations</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/Shashank3736/captcha-canvas" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/captcha-canvas" class="tsd-nav-link">NPM</a></nav><nav class="tsd-navigation"><a href="../modules.html">captcha-canvas API Documentation - v3.3.4</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
